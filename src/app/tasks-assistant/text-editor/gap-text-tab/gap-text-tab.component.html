<form [formGroup]="gapTextForm"></form>
<h4><i>Hier können Sie aus einem ausgewählten Text einen Lückentext erstellen. Wählen Sie einen der Aufgabentypen und passen Sie ihn an Ihr Ziel an.</i></h4>
<mat-accordion>
  <mat-radio-group formControlName="selectedType">
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-radio-button value="wordList">Erstellen Sie einen Lückentext mit ausgewählten Wörtern aus dem Text. Doppelklicken Sie auf ein gewünschtes Textwort, um es in die Liste aufzunehmen.</mat-radio-button>
      </mat-expansion-panel-header>
      <mat-form-field class="width-100">
        <mat-label>Ausgewählte Wörter</mat-label>
        <textarea matInput formControlName="wordList"></textarea>
        <mat-error *ngIf="gapTextForm.get('wordList')?.invalid">
          Bitte geben Sie ein Wort ein, bevor Sie eine Aufgabe generieren.
        </mat-error>
      </mat-form-field>
    </mat-expansion-panel>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-radio-button value="verb">Erstellen Sie Text mit Lücken anstelle aller Verben.</mat-radio-button>
      </mat-expansion-panel-header>
      <form formGroupName="verb">
        <div class="form-options">
          <mat-form-field>
            <mat-label>Vollverb</mat-label>
            <mat-select formControlName="verbForm">
              <mat-option [value]="null">None</mat-option>
              @for (item of verbForm; track $index) {
                <mat-option [value]="item">{{item}}</mat-option>
              }
            </mat-select>
          </mat-form-field>
          <h4>mit</h4>
          <mat-form-field>
            <mat-label>Modalverb</mat-label>
            <mat-select formControlName="modalVerb">
              <mat-option [value]="null">None</mat-option>
              @for (item of modalsVerbs; track $index) {
                <mat-option [value]="item">{{item}}</mat-option>
              }
            </mat-select>
          </mat-form-field>
          <h4>mit</h4>
          <mat-form-field>
            <mat-label>Modus</mat-label>
            <mat-select formControlName="modus">
              <mat-option [value]="null">None</mat-option>
              @for (item of modus; track $index) {
                <mat-option [value]="item">{{item}}</mat-option>
              }
            </mat-select>
          </mat-form-field>
          <h4>mit</h4>
          <mat-form-field>
            <mat-label>Kasus</mat-label>
            <mat-select formControlName="kasus">
              <mat-option [value]="null">None</mat-option>
              @for (item of kasus; track $index) {
                <mat-option [value]="item">{{item}}</mat-option>
              }
            </mat-select>
          </mat-form-field>
          <h4>in</h4>
          <mat-form-field>
            <mat-label>Form</mat-label>
            <mat-select formControlName="activeForm">
              <mat-option [value]="null">None</mat-option>
              @for (type of formTypes; track $index) {
                <mat-option [value]="type">{{ type }}</mat-option>
              }
            </mat-select>
          </mat-form-field>
        </div>
      </form>
    </mat-expansion-panel>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-radio-button value="adjective">Erstellen Sie Text mit Lücken anstelle aller Adjektive, die den ausgewählten Parametern entsprechen.</mat-radio-button>
      </mat-expansion-panel-header>
      <form formGroupName="adjective">
        <div class="form-options">
          <h4>Deklination nach</h4>
          <mat-form-field>
            <mat-label>Artikel</mat-label>
            <mat-select formControlName="article">
              @for (item of article; track $index) {
                <mat-option [value]="item.article">{{item.title}}</mat-option>
              }
            </mat-select>
          </mat-form-field>
          <h4>mit</h4>
          <mat-form-field>
            <mat-label>Kasus</mat-label>
            <mat-select formControlName="kasus">
              <mat-option [value]="null">None</mat-option>
              @for (item of kasus; track $index) {
                <mat-option [value]="item">{{item}}</mat-option>
              }
            </mat-select>
          </mat-form-field>
        </div>
        <div class="form-options">
          <h4>Steigerungsform</h4>
          <mat-form-field>
            <mat-label>Steigerungsform</mat-label>
            <mat-select formControlName="comparison">
              <mat-option [value]="null">None</mat-option>
              @for (item of comparisons; track $index) {
                <mat-option [value]="item.comparison">{{item.title}}</mat-option>
              }
            </mat-select>
          </mat-form-field>
        </div>
      </form>
    </mat-expansion-panel>
    <mat-expansion-panel >
      <mat-expansion-panel-header>
        <mat-radio-button value="noun">Erstellen Sie Text mit Lücken anstelle aller Nomen, die den ausgewählten Parametern entsprechen.</mat-radio-button>
      </mat-expansion-panel-header>
      <form formGroupName="noun">
        <div class="form-options">
          <h4>Deklination mit</h4>
          <mat-form-field>
            <mat-label>Artikel</mat-label>
            <mat-select formControlName="article">
              @for (item of article; track $index) {
                <mat-option [value]="item.article">{{item.title}}</mat-option>
              }
            </mat-select>
          </mat-form-field>
          <h4>in</h4>
          <mat-form-field>
            <mat-label>Kasus</mat-label>
            <mat-select formControlName="kasus">
              <mat-option [value]="null">None</mat-option>
              @for (item of kasus; track $index) {
                <mat-option [value]="item">{{item}}</mat-option>
              }
            </mat-select>
          </mat-form-field>
        </div>
      </form>
    </mat-expansion-panel>
  </mat-radio-group>
</mat-accordion>
